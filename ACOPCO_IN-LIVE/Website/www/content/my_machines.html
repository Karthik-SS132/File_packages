<style>
	.ms_my_machines_banner{
		width: 100%;
		height: 20%;
		background-image: url(www/content/images/my_machines/PRODUCTINFO_banner.jpg);
		object-fit:fill;
		background-repeat: no-repeat;
		padding: 4em;
	}
	.ms_my_machines_bannertitle{
		color: white;
		letter-spacing: 2px;
	}
	.ms_my_machines_productinfo{
		width: 100%; 
		display: flex;
		justify-content:center;
		flex-direction: row;
		flex-wrap: wrap;
	}
	.ms_my_machines_productinfo img{
		border-radius: 11px 11px 0px 0px;
		width: 100%;
	}
	.ms_my_machines_productinfodesc{
		background: #e8e8e8;
		width: 100%;
		height:3em;
		overflow: auto;
		border-radius: 12px;
		margin-bottom: 1em;
	}
	.ms_my_machines_flex{
		width:30%;
		padding-top:.9em;
		padding-right:1em;
		padding-left: 1em;
		padding-bottom: 20em;
		background-color: #ffffff;
		box-shadow: 0px 0px 2px #1b6cbd;
		height: 20em;
		margin-right: 3em;
		margin-top: 3em;
		border-radius: 20px;
	}
	.ms_my_machines_productinfodesc span{
		color:#0077a1 ;
		width:100%;
		display:flex;
		justify-content:center;
		align-items:center;
	}
	.ms_my_machines_section_content_container{
		display: flex;
		color: #063f53;
	}
	.ms_my_machines_icons{
		padding-right: 0.3em;
		display: flex;
		align-items:center;
		flex:10;
		margin: 0.2em 0;
		font-size: 1.2em;
   	  	padding: 0.2em;
	}
	.ms_my_machines_data{
		align-items: center;
		display: flex;
		flex:90;
		word-break: break-all;
    	width: 80%;
    	white-space: break-spaces;
	}
	.ms_my_machines_form_action_icon {
		display: inline-block;
		padding: .3em;
		text-align: center;
		height: 1.8em;
		width: 1.8em;
		border-radius: 30px;
		font-size: 1.8em !important;
		margin-bottom: .2em;
		color: #fff!important;
		cursor: pointer;
		background-color: #063f53;
		transition:transform 300ms ease-in;
	}
	.ms_my_machines_machinhistory_icon{
		padding: .2em;
		display: flex;
		align-items: center;
		justify-content: center;
		height: 1.8em;
		width: 1.8em;
		margin-left: 1em;
		border-radius: 30px;
		font-size: 1.8em !important;
		margin-bottom: 1em;
		color: #fff!important;
		cursor: pointer;
		background-color: #063f53;
		transition:transform 300ms ease-in;
	}
	.ms_my_machines_form_action_icon:hover {
		transform: scale(1.2);
	}
	.ms_my_machines_form_action_icon > span.ms_my_machines_action_icon{
		text-align: center;
		padding: .15em;
		display: block;
	}
	.ms_my_machines_machine{
		width:45%;
		border-right: 1px dashed #057aa226;
	}
	.ms_my_machines_icon{
		display:flex;
		width: 25em;
		padding-top:1em;
		padding-bottom:1em;
		align-items: center;
		padding-left: .8em;
		cursor: pointer;
		margin-bottom: 1em;
		transition:transform 300ms ease-in;
	}
	.ms_my_machines_container:hover{
		border-bottom: 1px solid #0099cb;
		border-top: 1px solid #0099cb;
	}
	.ms_my_machines_contain{
		background-color:#0099cb;
		width: 90%;
		box-shadow: inset -22px -22px 44px #0087b3, inset 22px 22px 44px #00abe3;
		border-radius: 20px;
	}
	.ms_my_machines_contain2{
		width:100%
	}
	.ms_my_machines_data{
		flex: 90;
        display: flex;
        align-items: center;
		padding-left:2em;
        white-space: break-spaces;
        word-break: break-all;
	}
	.cards-container{
		margin:1em;
	}
	.ms_my_machines_info{
		color:#0093be;
		width:100%;
		padding-left:1em;
		padding-top:1em;
		
	}
	.ms_my_machines_info_des{
		color:#0093be;
		padding-left:1em;
	}
	.ms_my_machines_img{
		padding:1em;
	}
	.ms_my_machines_action_icon{
		display: flex;
		padding: 0.2em;
		text-align: center;
		height: 1.8em;
		width: 1.8em;
		border-radius: 30px;
		font-size: 2.5em !important;
		margin-bottom: 0.2em;
		justify-content:center;
		align-items:center;
		color: #fff!important;
		cursor: pointer;
		background-color: #0d7fa5;
		transition:transform 300ms ease-in;
	}
	.ms_my_machines_leftbox{
		width:100%;
		border-right: 1px solid #003c5142;
	}
	.ms_my_machines_section{
		display:flex;
	}
	.ms_my_machines_box{
		width:50%;
	}
	.ms_my_machines_content{
		display:flex;
	}
	.ms_my_machines_ic{
		flex:10;
		display: flex;
		align-items: center;
		justify-content: center;
	}
	.ms_my_machines_content{
		padding:.2em;
	}
	.ms_my_machines_header{
		text-align: center;
		border-bottom: 2px solid #ffffff; 
		padding-top:.5em; 
		padding-bottom:.5em;
		font-size:1.4em;
		
	}
	.ms_my_machines_header_bg{
		display: flex; 
		width: 100%; 
		justify-content: center;
		padding-top: 1em;
		padding-bottom:1em;
		color: #fff;
		background-color: #0099cb;
	}
	.ms_my_machines_title{
		padding-left: 1.6em;
		padding-bottom: 0.3em;
		padding-top: 0.5em;
		font-size:1.4em;
		border-bottom: 1px dashed #003c5142;
		font-weight: bold;
	}
	.ms_my_machines_machinhistory_icon:hover{
		transform: scale(1.2);
	}
	.ms_my_machines_righttbox_header{
		font-size:1.2em;
		padding: .1em;
		color: #0099cb;
		text-align: center;
		border-bottom: 1px dashed;
	}
	.ms_my_machines_righttbox_preview{
		display:flex;
		justify-content:center;
		padding:3em;
	}
	.ms_my_machines_attachment_icon{
		height: 3em;
		width: 20%;
		background-color: #063f53;
		color: #fff;
		font-size: 1.2em;
		border-radius: 100px;
		display: flex;
		justify-content: center;
		align-items: center;
		cursor: pointer;
	}
	.ms_my_machines_attachment_filename {
		margin-left: .5em;
		width: 100%;
		margin-right: .5em;
	}
	.ms_my_machines_attachment_filename span{
	
		word-break: break-word;
		width: 100%;
	}
	.k-timeline-horizontal .k-timeline-card{
		height:0!important;
	}
	
</style>
<div id="my_machines_container" class="ms_my_machines_banner">
	<div id="my_machines_container_list" class="ms_my_machines_productinfo"></div>
	<div id="my_machines_history_popup"></div>
	<div id="my_machines_chat_popup"></div>
</div>
<script type="text/x-kendo-tmpl" id="my_machines_chat_popup_content_template">
	<div style="margin-top: 2em;">
		<div id="my_machines_chat_popup_content"></div>
	</div>
</script>
<script type="text/x-kendo-tmpl" id="my_machines_history_popup_header_timeline_detail_view_content_template">
	<div style="height: 40vh;">
		<div style="display:flex; border: 1px solid \#0098ca63; line-height: 1.5;">
			<div style="width:40%; border-right: 1px solid \#0098ca38; overflow-x: hidden; height: 70vh;">
				<h5 style="border-bottom: 1px dashed; color: \#0f99c1; padding: 0.1em; font-size: 1.2em; text-align: center;">Info</h5>
				<h6 class="ms_my_machines_info">	
					<div><i class="fas fa-headset"></i><span style="margin-left: 1em;">#: data.event_category_desc #</span></div>
					<!--<div><i class="fas fa-ticket-alt"></i><span style="margin-left: 1em;">#: data.event_ref_no # - #: data.event_type_desc #</span></div>
					<div><i class="fa-sharp fa-solid fa-object-group"></i><span style="margin-left: 1em;">#: data.event_equipment_category # [ #: data.event_equipment_type # ]</span></div>
					<div><i class="fa-solid fa-gears"></i><span style="margin-left: 1em;">#: data.event_equipment_id # / #: data.event_asset_id #</span></div>-->
				</h6>
				<div>
					# if (data.attachments.length != 0) { # 
						<h4 style="border-bottom: 1px dashed; color: \#0f99c1; font-size: 1.2em; text-align: center;">Attachments</h4>						
						# for (let i = 0; i < data.attachments.length; i++) { #
							<div class="ms_my_machines_container" style="display: inline-flex; width:100%;">
								<span style="padding: 0.3em 0;height: 2em;margin-left:1em; display: inline-flex; padding-top: 2em;"><a download="" href="#: mService.app.clientURL + '/' + 'content_store' + '/' + mService.app.getClientId() + '/' + mService.app.getCountryCode() + '/' + data.attachments[i].path #"><i class="fa-solid fa-download" style="font-size:1.5em;"></i></a></span>
								<div class="ms_my_machines_icon" data-ms-listview-param='{"dataDocType":"#: data.attachments[i].type #", "dataDocSrc":"#: mService.app.clientURL + '/' + 'content_store' + '/' + mService.app.getClientId() + '/' + mService.app.getCountryCode() + '/' + data.attachments[i].path #", "uid":"#: data.uid #"}' onclick="my_machines.button.misc.machine_history_attachment_click(this)">
									<div class="ms_my_machines_attachment_icon">
										# if (data.attachments[i].type === "A") { # 
											<i class="fas fa-file-audio"></i>
										# } else if (data.attachments[i].type === "V") { # 
											<i class="fas fas fa-file-video"></i> 
										# } else if (data.attachments[i].type === "I") { # 
											<i class="fas fa-file-image"></i>
										# } else if (data.attachments[i].type === "P") { # 
											<i class="fas fa-file-pdf"></i>
										# } #
									</div>
									<div class="ms_my_machines_attachment_filename">
										<span>#: data.attachments[i].path.substring(data.attachments[i].path.lastIndexOf("/") + 1) #</span>
									</div>
								</div>
							</div>
						# } #						
					# } #
				</div>
			</div>
			<div style="width:100%;">
					<div class="ms_my_machines_righttbox_header"><h4>Preview<h4></div>
					<div class="ms_my_machines_righttbox_preview" id="my_machines_history_attachment_viewer_no_data_#: data.uid #">
						<img src="www/content/images/my_machines/preview.png" style=" width: 10em; opacity: .1;" />
					</div>
					<div id="my_machines_history_attachment_viewer_#: data.uid #"></div>
			</div>
		</div>
	</div>
</script>
<script type="text/x-kendo-tmpl" id="my_machines_history_popup_header_content_template">
	<div style= "color: \#0f99c1; font-size: 1.3em;">
		<!--<center><span>Installation date: #: kendo.toString(kendo.parseDate(data.installation_date), 'dd MMM yyyy') #</span></center>-->
	</div>	
</script>
<script type="text/x-kendo-tmpl" id="my_machines_history_popup_template">
	<div style="display: flex;border-radius: 20px; background-color: \#fcfcfc; padding-top: 1.5em; margin-top: 1.5em; height: 6em;">
		<div id="my_machines_history_popup_filter_area" style="display: flex;align-items: center; width: 100%; margin-left: 5em;">
			<div style="display: inline-flex; font-weight: bold; width: 95%; align-items: center; justify-content: center;">
				<input id="my_machines_history_popup_chkbox_filter" />
				<div style="display: flex;justify-content: center;align-items: center; margin-left: 1em; border-radius: 50%;margin-bottom: 1.5rem!important;width: 1.1em;height: 1.1em;cursor: pointer; " class="ms_my_machines_action_icon ms_theme_bg_color1" onclick="my_machines.button.misc.machine_history_refresh_click(this)" title="Refresh">
					<i class="fa-solid fa-rotate" style="font-size:.6em;"></i>
				</div>
				<div style="display: flex;justify-content: center;align-items: center; margin-left: 1em; border-radius: 50%;margin-bottom: 1.5rem!important;width: 1.1em;height: 1.1em;cursor: pointer; " class="ms_my_machines_action_icon ms_theme_bg_color1" onclick="my_machines.button.misc.machine_history_clear_filter_click(this)" title="Clear Filter">
					<i class="fa-solid fa-filter-slash" style="font-size:.6em;"></i>
				</div>
			</div>
		</div>
	</div>
	<div id="my_machines_history_popup_header"></div>
	<div class="ms_my_machines_section">
		<div class="ms_my_machines_leftbox">
			<div id="my_machines_history_popup_header_icons"></div>
			<div id="my_machines_history_popup_header_timeline"></div>
		</div>
		<div class="ms_my_machines_righttbox"></div>
	</div> 
</script>
<script type="text/x-kendo-tmpl" id="my_machines_list_template">
	<div class="ms_my_machines_flex">
		<div class="ms_my_machines_productinfodesc flex">
			<span>#: data.asset_id #</span>
		</div>
		<span class="ms_my_machines_section_content_container">
			<span class="ms_my_machines_icons">
				<i class="fas fa-cog ms_theme_bg_color7 ms_theme_color1 ms_my_machines_iconsize"></i>
			</span>
			<span class="ms_my_machines_data">#: data.equipment_desc# [#: data.equipment_id #]</span>
		</span>		
		<!--<span class="ms_my_machines_section_content_container">
			<span class="ms_my_machines_icons">
				<i class="fad fa-cogs ms_theme_bg_color7 ms_theme_color1 ms_my_machines_iconsize"></i>
			</span>
			<span class="ms_my_machines_data">#: data.equipment_type # </span>
		</span>-->
		<span class="ms_my_machines_section_content_container">
			<span class="ms_my_machines_icons">
				<i class="fas fa-calendar-day ms_theme_bg_color7 ms_theme_color1 ms_my_machines_mcalldetails_iconsize"></i>
			</span>
			<span class="ms_my_machines_data">Installation date: #if (kendo.toString(data.installation_date) == "" ) {# #} else {# ${kendo.toString(new Date(data.installation_date),"dd-MMM-yyyy")} #}#</span>
		</span>
		<span class="ms_my_machines_section_content_container">
			<span class="ms_my_machines_icons">
				<i class="fas fa-calendar-day ms_theme_bg_color7 ms_theme_color1 ms_my_machines_mcalldetails_iconsize"></i>
			</span>
			<span class="ms_my_machines_data">Warranty end date: #if (kendo.toString(data.warranty_end_date) == "" ) {# #} else {# ${kendo.toString(new Date(data.warranty_end_date),"dd-MMM-yyyy")} #}#</span>
		</span>
		<span class="ms_my_machines_section_content_container">
			<span class="ms_my_machines_icons">
				<i class="fas fa-calendar-day ms_theme_bg_color7 ms_theme_color1 ms_my_machines_mcalldetails_iconsize"></i>
			</span>
			<span class="ms_my_machines_data">Last checked date: #if (kendo.toString(data.lastcheck_date) == "" ) {# #} else {# ${kendo.toString(new Date(data.lastcheck_date),"dd-MMM-yyyy")} #}#</span>
		</span>
		<span class="ms_my_machines_section_content_container">
			<span class="ms_my_machines_icons">
				<i class="fas fa-meter ms_theme_bg_color7 ms_theme_color1 ms_my_machines_mcalldetails_iconsize"></i>
			</span>
			<span class="ms_my_machines_data">Running Hours: #: data.lastcheck_value #</span>
		</span>
		<hr style="border-color: \#0099cb"/>
		<div>
			<center style="display: flex; justify-content: center; gap:1em;">
				<div class="ms_my_machines_form_action_icon ms_theme_bg_color1" onclick="my_machines.button.misc.machine_history_click(this)" data-ms-containr-param="#: uid #" title="Machine Life">
					<span class=""><i class="far fa-monitor-heart-rate" style="font-size:0.9em;"></i></span>
				</div>
				<!--<div class="ms_my_machines_form_action_icon ms_theme_bg_color1" onclick="my_machines.button.misc.operator_log_book_click(this)" data-ms-containr-param="#: uid #" title="Operator Log Book">
					<span class=""><i class="far fa-book" style="font-size:0.9em;"></i></span>
				</div>
				<div class="ms_my_machines_form_action_icon ms_theme_bg_color1" onclick="my_machines.button.misc.operator_log_report_click(this)" data-ms-containr-param="#: uid #" title="Operator Log Report">
					<span class=""><i class="fa-sharp fa-solid fa-file-spreadsheet" style="font-size:0.9em;"></i></span>
				</div>-->
				<div class="ms_my_machines_form_action_icon ms_theme_bg_color1" onclick="my_machines.button.misc.chat_click(this)" data-ms-containr-param="#: uid #" title="Chat">
					<span class=""><i class="fa-solid fa-message-plus" style="font-size:0.9em;"></i></span>
				</div>
			</center>
		</div>
	</div>
</script>