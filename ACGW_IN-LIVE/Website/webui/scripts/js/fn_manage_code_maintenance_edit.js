var manage_code_maintenance_edit={constructScreen:function(){manage_code_maintenance_edit.variable.custom.datasource_1=mserviceUtilities.getTransportDataSource({applicationName:"common_modules",serviceName:"validate_key_field",outputPath:"context/outputparam",pageSize:10,inputParameter:{p_screen_name:"'CODEMAINTENANCE'",p_validation_field_1:"#manage_code_maintenance_edit_code_type",p_validation_field_2:"#manage_code_maintenance_edit_code",p_validation_field_3:"",p_validation_field_4:"",p_validation_field_5:"",p_validation_field_6:"",p_validation_field_7:"",p_validation_field_8:"",p_validation_field_9:"",p_validation_field_10:"",},screenID:"manage_code_maintenance_edit",});if(manage_code_maintenance.variable.custom.crudIndicator=="U"){manage_code_maintenance_edit.variable.custom.code_type_defaultValue=manage_code_maintenance.variable.custom.selectedRecord.code_type;manage_code_maintenance_edit.variable.custom.code_type_description_defaultValue=mserviceUtilities.getDescriptionForCode("CODETYPES_DESC",manage_code_maintenance.variable.custom.selectedRecord.code_type,"");manage_code_maintenance_edit.variable.custom.code_defaultValue=manage_code_maintenance.variable.custom.selectedRecord.code;manage_code_maintenance_edit.variable.custom.short_desc_defaultValue=manage_code_maintenance.variable.custom.selectedRecord.short_desc;manage_code_maintenance_edit.variable.custom.long_desc_defaultValue=manage_code_maintenance.variable.custom.selectedRecord.long_desc;}},initializeWidgets:function(){manage_code_maintenance_edit.variable.custom.codeType=$("#manage_code_maintenance_edit_code_type").initializeWDropdownlist({screenID:"manage_code_maintenance_edit",dataSource:{applicationName:"common_modules",serviceName:"retrieve_listof_values",inputParameter:{p_lov_code:"'CODETYPES_LIST'",p_search_field_1:"",p_search_field_2:"",p_search_field_3:"",p_search_field_4:"",p_search_field_5:""},},dataTextField:"p_description_field_1",dataValueField:"p_value_field_1",defaultValue:"$manage_code_maintenance_edit.variable.custom.code_type_defaultValue",defaultValueDescription:"$manage_code_maintenance_edit.variable.custom.code_type_description_defaultValue"});$("#manage_code_maintenance_edit_code").initializeWTextbox({screenID:"manage_code_maintenance_edit",maxlength:"30",defaultValue:"$manage_code_maintenance_edit.variable.custom.code_defaultValue"});$("#manage_code_maintenance_edit_short_desc").initializeWTextbox({screenID:"manage_code_maintenance_edit",maxlength:"30",defaultValue:"$manage_code_maintenance_edit.variable.custom.short_desc_defaultValue",});$("#manage_code_maintenance_edit_long_desc").initializeWTextbox({screenID:"manage_code_maintenance_edit",maxlength:"60",defaultValue:"$manage_code_maintenance_edit.variable.custom.long_desc_defaultValue"});},widgetEventHandler:{code_type_change:function(element,event){if($("#manage_code_maintenance_edit_code_type").getVal()==""){$('.display_description[data-for = "manage_code_maintenance_edit_code"]').text("");}else{$("#manage_code_maintenance_edit_code").attr("maxlength",manage_code_maintenance_edit.variable.custom.codeType.dataItem().p_value_field_2);$("#manage_code_maintenance_edit_code").setVal("");$('.display_description[data-for = "manage_code_maintenance_edit_code"]').text("Maximum Characters Allowed :"+manage_code_maintenance_edit.variable.custom.codeType.dataItem().p_value_field_2);manage_code_maintenance_edit.customRequirementHandler.codeTypeValidation(element);}},code_change:function(element,event){manage_code_maintenance_edit.customRequirementHandler.codeTypeValidation(element);}},customRequirementHandler:{codeTypeValidation:function(element){if($("#manage_code_maintenance_edit_code_type").getVal()!=""&&$("#manage_code_maintenance_edit_code").getVal()!=""){manage_code_maintenance_edit.variable.custom.datasource_1.read();var keyValidation=manage_code_maintenance_edit.variable.custom.datasource_1.data();if(keyValidation[0].p_valid_ind=="true"){alert("Data already exists.");$("#manage_code_maintenance_edit_code").setVal("");}}}},buttonEventHandler:{submit_btn_click:function(element,event){var recordTimeStamp,returnValue;recordTimeStamp="00000000-0000-0000-0000-000000000000";if(manage_code_maintenance.variable.custom.crudIndicator=="U"){recordTimeStamp=manage_code_maintenance.variable.custom.selectedRecord.rec_tstamp;};returnValue=executeService_save_code_value_detail({p_country_code_filter:login_profile.country_code,p_locale_id_filter:login_profile.locale_id,p_code_type:$("#manage_code_maintenance_edit_code_type").getVal(),p_code:$("#manage_code_maintenance_edit_code").getVal(),p_short_description:$("#manage_code_maintenance_edit_short_desc").getVal(),p_long_description:$("#manage_code_maintenance_edit_long_desc").getVal(),p_save_mode:manage_code_maintenance.variable.custom.crudIndicator,p_rec_tstamp:recordTimeStamp});if(returnValue=="SP001"){alert("Code Details is saved successfully");return true;}else{alert("Saving of Code Details Failed");return false;}}},variable:{standard:{screenEditableIndicator:true,valueChangeIndicator:false,popupIndicator:true,reorderParam:[{contentID:"content_1",columnLength:1}],},custom:{code_type_defaultValue:"",code_type_description:"",code_defaultValue:"",short_desc_defaultValue:"",long_desc_defaultValue:"",codeType:""},}};