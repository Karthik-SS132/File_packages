var manage_item_rate={constructScreen:function(){manage_item_rate.variable.custom.datasource_1=mserviceUtilities.getTransportDataSource({applicationName:"mservice",serviceName:"retrieve_item_rate_details",outputPath:"context/outputparam_detail",pageSize:10,inputParameter:{p_item_code:"$manage_item_master.variable.custom.selectedRecord.item_code",p_item_variant_code:"$manage_item_master.variable.custom.selectedRecord.variant_code"},schemaModel:true,screenID:"manage_item_rate",dataSourceName:"datasource_1",processResponse:true});},postConstruct:function(){manage_item_rate.variable.custom.datasource_1.read();if(manage_item_rate.variable.custom.datasource_1.data().length!=0){manage_item_rate.variable.custom.saveMode="U";}},initializeWidgets:function(){$("#manage_item_rate_item_code").initializeWDisplayarea({screenID:"manage_item_rate",defaultValue:"$manage_item_master.variable.custom.selectedRecord.item_code"});$("#manage_item_rate_item_description").initializeWDisplayarea({screenID:"manage_item_rate",defaultValue:"$manage_item_master.variable.custom.selectedRecord.item_description"});$("#manage_item_rate_variant_code").initializeWDisplayarea({screenID:"manage_item_rate",defaultValue:"$manage_item_master.variable.custom.selectedRecord.variant_code"});$("#manage_item_rate_variant_description").initializeWDisplayarea({screenID:"manage_item_rate",defaultValue:"$manage_item_master.variable.custom.selectedRecord.variant_description"});manage_item_rate.variable.custom.grid_1=$("#manage_item_rate_grid_1").initializeWGrid({screenID:"manage_item_rate",toolbar:"#manage_item_rate_grid_1_toolbar_template",dataSource:manage_item_rate.variable.custom.datasource_1,height:400,pageSize:10});},refreshScreen:function(){manage_item_rate.variable.custom.grid_1.refresh();},buttonEventHandler:{crud_btn_click:function(element,event){if(manage_item_rate.variable.custom.crudIndicator=="D"){manage_item_rate.variable.custom.grid_1.dataSource.remove(manage_item_rate.variable.custom.selectedRecord);}else if(mserviceUtilities.loadJSScripts(["../scripts/js/fn_manage_item_rate_edit.js"])){webNavigationController.gotoNextScreen({screenID:"manage_item_rate",fieldID:"manage_item_rate_child_window",nextScreenID:"manage_item_rate_edit",nextScreenName:manage_item_rate.variable.custom.nextScreenName,execute:manage_item_rate_edit.constructScreen});}else{alert("Sorry. This feature is unavailable. Please contact your support desk.");return false;}},submit_btn_click:function(element,event){var returnValue,inputparamDetail,detailRecordCounter;inputparamDetail=[];if(manage_item_rate.variable.custom.grid_1.dataSource.data().length==0){alert("Please Enter Item Rate Details.");return false;};for(detailRecordCounter=0;detailRecordCounter<manage_item_rate.variable.custom.grid_1.dataSource.data().length;detailRecordCounter++){inputparamDetail.push({p_uom_code:manage_item_rate.variable.custom.grid_1.dataSource.data()[detailRecordCounter].uom_code,p_std_rate:(manage_item_rate.variable.custom.grid_1.dataSource.data()[detailRecordCounter].std_rate).toString(),p_currency_code:manage_item_rate.variable.custom.grid_1.dataSource.data()[detailRecordCounter].currency_code,});};returnValue=executeService_save_item_rate_details({p_item_code:$("#manage_item_rate_item_code").getVal(),p_item_variant_code:$("#manage_item_rate_variant_code").getVal(),p_save_mode:manage_item_rate.variable.custom.saveMode,inputparam_detail:inputparamDetail});if(returnValue=="SP001"){alert("Item Rate is saved successfully");return true;}else{alert("Saving of Item Rate Failed");return false;}}},customRequirementHandler:{setSelectedRecord:function(){manage_item_rate.variable.custom.selectedRecord=manage_item_rate.variable.custom.grid_1.dataSource.getByUid(manage_item_rate.variable.custom.grid_1.select().data("uid"));}},variable:{standard:{screenEditableIndicator:true,valueChangeIndicator:false,reorderParam:[{contentID:"content_1",columnLength:2}],exportConfiguration:{mode:"single",content:[{exportType:"grid",fieldId:"manage_item_rate_grid_1",dispalyLabel:"Data Export"}]},printConfiguration:{mode:"single",content:[{type:"grid",fieldId:"manage_item_rate_grid_1",dispalyLabel:"Data Export"}]}},custom:{datasource_1:"",grid_1:"",nextScreenName:"",selectedRecord:"",saveMode:"A",customDelete:true,}}};