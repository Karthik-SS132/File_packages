var report_generic_data_edit={constructScreen:function(){if(report_generic_data.variable.custom.selectedRecord.path_way_points==""){report_generic_data_edit.variable.custom.pathWayPoints="";}else{report_generic_data_edit.variable.custom.pathWayPoints=report_generic_data.variable.custom.selectedRecord.path_way_points.split("|");}},initializeWidgets:function(){report_generic_data_edit.customRequirementHandler.initializeMap();},postConstruct:function(){report_generic_data_edit.customRequirementHandler.refreshMap();},customRequirementHandler:{initializeMap:function(){report_generic_data_edit.variable.custom.map=new google.maps.Map(document.getElementById("report_generic_data_edit_map"),{mapTypeId:google.maps.MapTypeId.ROADMAP});},refreshMap:function(){var directionsDisplay,directionsService;directionsDisplay=new google.maps.DirectionsRenderer({polylineOptions:{strokeColor:'black',icons:[{repeat:'250px',icon:{path:google.maps.SymbolPath.FORWARD_CLOSED_ARROW,scale:3,fillColor:'yellow',strokeColor:'black',fillOpacity:1.5,strokeWeight:3},}]},suppressMarkers:true,});directionsService=new google.maps.DirectionsService();google.maps.event.addListenerOnce(report_generic_data_edit.variable.custom.map,'idle',function(){var pathCoordsCounter,pathWayLatLng,mapPathList,startPosition,finishPosition,pathWayPosition;mapPathList=[];google.maps.event.trigger(report_generic_data_edit.variable.custom.map,'resize');startPosition=new google.maps.LatLng(parseFloat(report_generic_data.variable.custom.selectedRecord.start_lat),parseFloat(report_generic_data.variable.custom.selectedRecord.start_long));report_generic_data_edit.customRequirementHandler.createMarkerPoint(startPosition,0);finishPosition=new google.maps.LatLng(parseFloat(report_generic_data.variable.custom.selectedRecord.finish_lat),parseFloat(report_generic_data.variable.custom.selectedRecord.finish_long));report_generic_data_edit.customRequirementHandler.createMarkerPoint(finishPosition,1);for(pathCoordsCounter=0;pathCoordsCounter<report_generic_data_edit.variable.custom.pathWayPoints.length;pathCoordsCounter++){pathWayLatLng=report_generic_data_edit.variable.custom.pathWayPoints[pathCoordsCounter].split(",");pathWayPosition=new google.maps.LatLng(parseFloat(pathWayLatLng[0]),parseFloat(pathWayLatLng[1]));report_generic_data_edit.customRequirementHandler.createMarkerPoint(pathWayPosition,pathCoordsCounter+2);mapPathList.push({location:pathWayPosition,});};directionsService.route({origin:startPosition,destination:finishPosition,travelMode:google.maps.TravelMode.DRIVING},function(response,status){if(status==google.maps.DirectionsStatus.OK){directionsDisplay.setDirections(response);directionsDisplay.setMap(report_generic_data_edit.variable.custom.map);}else{alert("Request Path Unavailable.");}});});},createMarkerPoint:function(position,index){var icon;if(index==0){icon="http://chart.googleapis.com/chart?chst=d_map_pin_letter&chld=S|FF9933";}else if(index==1){icon="http://chart.googleapis.com/chart?chst=d_map_pin_letter&chld=F|FF9933";}else{icon={path:google.maps.SymbolPath.CIRCLE,scale:5,fillColor:'white',strokeColor:'green',fillOpacity:1.5,strokeWeight:5};};report_generic_data_edit.variable.custom.markerList.push(new google.maps.Marker({position:position,map:report_generic_data_edit.variable.custom.map,icon:icon}));report_generic_data_edit.customRequirementHandler.getMyAddress(position,index);},getMyAddress:function(position,index){var geocoder,infoWindow,infoContent;geocoder=new google.maps.Geocoder();geocoder.geocode({'latLng':position},function(results,status){if(status==google.maps.GeocoderStatus.OK){infoContent="<div style = 'line-height: 13px;'><span  style = 'font-size: xx-small; font-weight: bold;'>"+results[1].formatted_address+"</span></div>";infoWindow=new google.maps.InfoWindow({content:infoContent,maxWidth:150,zIndex:index});report_generic_data_edit.variable.custom.infoWindowList.push({index:index.toString(),infoWindow:infoWindow});report_generic_data_edit.variable.custom.markerList[index].addListener('click',function(){infoWindow.open(report_generic_data_edit.variable.custom.map,report_generic_data_edit.variable.custom.markerList[index]);});}else if(status==google.maps.GeocoderStatus.OVER_QUERY_LIMIT){setTimeout(function(){if(typeof(report_generic_data_edit)=="undefined"){report_generic_data_edit.customRequirementHandler.getMyAddress(position,index);}},2000);}});}},variable:{standard:{popupIndicator:true,reorderParam:[{contentID:"content_1",columnLength:3}],importConfiguration:{imformationType:'report_generic_data_edit'},exportConfiguration:{mode:"single",content:[{exportType:"grid",fieldId:"report_generic_data_edit_map",dispalyLabel:"Data Export"}]},printConfiguration:{mode:"single",content:[{type:"grid",fieldId:"report_generic_data_edit_map",dispalyLabel:"Data Export"}]}},custom:{markerList:[],infoWindowList:[]},}};