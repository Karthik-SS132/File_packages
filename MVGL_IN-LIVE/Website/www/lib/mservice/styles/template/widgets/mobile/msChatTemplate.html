<script id="msChatThemeTemplate" type="text/x-kendo-tmpl">
	<style id="msChat_theme">
		.ms_chat_actions{
			background-image: linear-gradient(#: actions.background_image.direction #, #: actions.background_image.color1 #, #: actions.background_image.color2 #, #: actions.background_image.color3 #, #: actions.background_image.color4 #) !important;
			color: #: actions.label_color # !important;
		}
		.ms_chat_action_sheet{
			background-image: linear-gradient(#: actionSheet.background_image.direction #, #: actionSheet.background_image.color1 #, #: actionSheet.background_image.color2 #, #: actionSheet.background_image.color3 #, #: actionSheet.background_image.color4 #) !important;
		}
		.ms_chat_action_sheet_header{
			background-image: linear-gradient(#: actionSheet.header_background_image.direction #, #: actionSheet.header_background_image.color1 #, #: actionSheet.header_background_image.color2 #, #: actionSheet.header_background_image.color3 #, #: actionSheet.header_background_image.color4 #) !important;
			color: #: actionSheet.header_label_color # !important;
		}
		.ms_chat_action_sheet_header > i > .fas{
			color: #: actionSheet.header_icon_color # !important;
		}
		.ms_chat_action_sheet_footer{
			background-image: linear-gradient(#: actionSheet.footer_background_image.direction #, #: actionSheet.footer_background_image.color1 #, #: actionSheet.footer_background_image.color2 #, #: actionSheet.footer_background_image.color3 #, #: actionSheet.footer_background_image.color4 #) !important;
			color: #: actionSheet.color # !important;
		}
		.ms_chat_attachment_pager_default{
			width: 0.32rem !important;
			height: 0.32rem !important;
			border-radius: 50% !important;
    		border: none !important;
			transition: all 800ms cubic-bezier(0, 0, 0.2, 1);
		}
		.ms_chat_attachment_pager_active_default{
			width: 0.6rem !important;
    		height: 0.6rem !important;
    		border-radius: 50% !important;
    		border: none !important;
			margin: 0 0.3em !important;
			transition: all 800ms cubic-bezier(0, 0, 0.2, 1);
		}
		 .ms_chat_toolbar_attachment_icon{
			color: #: message_send_button.icon_color # !important;	
		}
		.ms_chat_send_button{
			color: #: message_send_button.icon_color # !important;	
		}
		.ms_chat_info_header_label{
			color: #: info_header.label_color # !important;	
		}
		.ms_chat_info_header_icon{
			color: #: info_header.icon_color # !important;	
		}
		.ms_chat_action_sheet_header_icon{
			color: #: actionSheet.header_icon_color # !important;
		}
		.ms_chat_send_button_container:active{
			background-image: linear-gradient(#: message_send_button.background_image.direction #, #: message_send_button.background_image.color1 #, #: message_send_button.background_image.color2 #, #: message_send_button.background_image.color3 #, #: message_send_button.background_image.color4 #) !important;
    		border-radius: 10px;
		}
			.ms_chat_header{ 
				background-image: linear-gradient(#: header.background_image.direction #, #: header.background_image.color1 #, #: header.background_image.color2 #, #: header.background_image.color3 #, #: header.background_image.color4 #) !important;
			}
			.ms_chat_header_label{
				color: #: header.label_color # !important;		
			}
			.ms_chat_header_value{
				color: #: header.value_color # !important;		
			}
			#
			let themesLength = Object.keys(bubble[0]).length;
			let themeKey = Object.keys(bubble[0]);
			let themeValue = Object.values(bubble[0]);
			#
			#for (var theme=0; theme<themesLength; theme++) {#	
				.ms_chat_bubble_#:themeKey[theme]#{
					border-color: #: themeValue[theme].border_color # !important;
					background-image: linear-gradient(#: themeValue[theme].background_image.direction #, #: themeValue[theme].background_image.color1 #, #: themeValue[theme].background_image.color2 #, #: themeValue[theme].background_image.color3 #, #: themeValue[theme].background_image.color4 #) !important;
				}
				.ms_chat_bubble_#:themeKey[theme]# > p{
					color: #: themeValue[theme].text.color# !important;
				}
				.ms_chat_profile_#:themeKey[theme]#{
					background-image: linear-gradient(#: themeValue[theme].profile.background_image.direction #, #: themeValue[theme].profile.background_image.color1 #, #: themeValue[theme].profile.background_image.color2 #, #: themeValue[theme].profile.background_image.color3 #, #: themeValue[theme].profile.background_image.color4 #) !important;
					color: #: themeValue[theme].profile.color# !important;
				}
				.ms_chat_attachment_#:themeKey[theme]#{
					background-image: linear-gradient(#: themeValue[theme].attachment.background_image.direction #, #: themeValue[theme].attachment.background_image.color1 #, #: themeValue[theme].attachment.background_image.color2 #, #: themeValue[theme].attachment.background_image.color3 #, #: themeValue[theme].attachment.background_image.color4 #) !important;
					color: #: themeValue[theme].attachment.color# !important;
				}
				.ms_chat_attachment_count_#:themeKey[theme]#{
					background-image: linear-gradient(#: themeValue[theme].attachment.count.background_image.direction #, #: themeValue[theme].attachment.count.background_image.color1 #, #: themeValue[theme].attachment.count.background_image.color2 #, #: themeValue[theme].attachment.count.background_image.color3 #, #: themeValue[theme].attachment.count.background_image.color4 #) !important;	
					color: #: themeValue[theme].attachment.count.color # !important;	
				}
				.ms_chat_attachment_pager_#:themeKey[theme]#{
					background-image: linear-gradient(#: themeValue[theme].attachment.pager.normal.background_image.direction #, #: themeValue[theme].attachment.pager.normal.background_image.color1 #, #: themeValue[theme].attachment.pager.normal.background_image.color2 #, #: themeValue[theme].attachment.pager.normal.background_image.color3 #, #: themeValue[theme].attachment.pager.normal.background_image.color4 #) !important;	
				}
				.ms_chat_attachment_pager_active_#:themeKey[theme]#{
					background-image: linear-gradient(#: themeValue[theme].attachment.pager.active.background_image.direction #, #: themeValue[theme].attachment.pager.active.background_image.color1 #, #: themeValue[theme].attachment.pager.active.background_image.color2 #, #: themeValue[theme].attachment.pager.active.background_image.color3 #, #: themeValue[theme].attachment.pager.active.background_image.color4 #) !important;	
				}
				.ms_chat_attachment_pager_icon_#:themeKey[theme]#{
					color: #: themeValue[theme].attachment.pager.icon_color# !important;
				}
				.ms_chat_bubble_header_info_#:themeKey[theme]#{
					border-bottom-color: #: themeValue[theme].header.border_bottom_color# !important;
				}
				.ms_chat_bubble_header_#:themeKey[theme]#{
					color: #: themeValue[theme].header.color# !important;
					border-bottom-color: #: themeValue[theme].header.border_bottom_color# !important;
				}
				.ms_chat_bubble_header_time_#:themeKey[theme]#{
					color: #: themeValue[theme].header.time_color# !important;
				}
				.ms_chat_bubble_suggestion_#:themeKey[theme]#{
					color: #: themeValue[theme].header.color# !important;
				}
				.ms_chat_bubble_suggestion_#:themeKey[theme]#:hover{
					background-image: linear-gradient(#: themeValue[theme].suggestion.hover.background_image.direction #, #: themeValue[theme].suggestion.hover.background_image.color1 #, #: themeValue[theme].suggestion.hover.background_image.color2 #, #: themeValue[theme].suggestion.hover.background_image.color3 #, #: themeValue[theme].suggestion.hover.background_image.color4 #) !important;
					color: #: themeValue[theme].suggestion.hover.color# !important;
					border-color: #: themeValue[theme].suggestion.hover.border_color# !important;
				}
				.ms_chat_bubble_translation_header_#:themeKey[theme]#{
					color: #: themeValue[theme].text.translate_header_color# !important;
				}
				.ms_chat_bubble_translation_content_#:themeKey[theme]#{
					color: #: themeValue[theme].text.translate_content_color# !important;
				}
				.ms_chat_bubble_download_button_#:themeKey[theme]#{
					color: #: themeValue[theme].download_button_color # !important;
				}

			# } #
	</style>
</script>
<script id="msChatTemplate" type="text/x-kendo-tmpl">
	<div style="display:flex;flex-direction: column;">
		<div id="#: id #_group" style="align-items: center; padding-bottom:5em;">
			<div id="#: id #_chat_header_container" style="display: none;align-items: center;background: \#fff;padding: 0.4em;position: sticky;z-index: 1;border-bottom: 1px solid \#bbb;top: 0;box-shadow: rgb(0 0 0 / 5%) 0px 10px 15px -3px, rgb(0 0 0 / 5%) 0px 4px 6px -2px;">
				<div id="#: id #_chat_header" style="width: 100%;"></div>
			</div>
			<div id="#: id #" style="width:100%;flex:50;padding-bottom: 2em;height: calc(3.5em - 100%);background-image: url(../ux/image/app_background_watermark.jpg);background-repeat: no-repeat;background-position: center;background-attachment: fixed;background-size: 16em;"></div>
		</div>
		<div style="position: fixed;bottom: 0;width: 100%;background-color: \#fff;">
			<div style="width:100%;position: fixed;bottom: 0;border-top-left-radius: 20px; border-top-right-radius: 20px;background-color: transparent;">
				<div id="#: id #_action_form_container" class="ms_chat_action_sheet" style="height: fit-content;
				display:none;box-shadow: rgb(0 0 0 / 35%) 0px 5px 15px;margin:0 0.5em;border: 1px solid \#bbb;margin-bottom: 0.1em;border-top-left-radius: 20px; border-top-right-radius: 20px;overflow: scroll;min-height: 30vh;">
					<div class="ms_chat_action_sheet_header" style="border-top-left-radius: 20px;
					border-top-right-radius: 20px;">
						<div style="display: flex;align-items: center;height: 3em;">
							<div style="flex: 80;display: flex;align-items: center;">
								<div id="#: id #_selected_action_title" data-ms-listview-param=''  data-ms-custom=''  style="flex: 90;padding-left: 1em;"></div>
							</div>
							<div data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="closeActionFormContainer" data-ms-for="#: id #" class="km-widget km-button ms_chat_action_sheet_header_icon"
 							style="flex: 10;display: flex;justify-content: center;align-items: center;">
							<i class="fa-solid fa-times" style="font-size: 1.3em;"></i>
							</div>
						</div>
					</div>
					<div id="#: id #_action_form_content" class="ms_chat_action_sheet" style="overflow: scroll;height: fit-content;max-height: 40vh;margin-bottom: 5em;"></div>
					<div id="#: id #_footer" class="ms_chat_action_sheet_footer" data-role="footer" data-position="fixed" data-theme="a" data-tap-toggle="false" class="ms_footer" style="position: fixed;bottom: 0;width: 100%;border-top: 1px solid \#bbb;">
						<div style="width: 100%;display: flex;justify-content: center;">
							<div style="display: flex;justify-content: center;align-items: center; margin: 0.5em;" class="ms_form_action_submit">
								<i id="#: id #_action_form_submit_button" data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="actionFormSubmit" data-ms-for="#: id #" class="far fa-check km-widget km-button"></i>
							</div>		
						</div>
					</div>
				</div>
			</div>
			<div id="#: id #_message_box_group" style="display: flex;flex-direction: row;width: 100%;flex: 5;bottom: 0;border-top: 1px solid \#e2dada;background-color:\#fff;justify-content: center;" class="k-message-box">
				<div id="#: id #_message_box_container" style="width: 90%;flex: 90;display: none;align-items: center;padding: 1em 0;">
					<span class="ms_chat_message_box" id="#: id #_message_box" placeholder="Type a message"  contenteditable="" data-ms-for="#: id #" style="width: 100%;max-height: 5em;overflow-y: auto;word-break: break-all;padding-left: 0.5em;"></span>
				</div>
				<div style="display:flex;gap:0.5em">
					<div  id="#: id #_attachment_parent">
						<div class="ms_chat_send_button_container km-widget km-button" id="#: id #_attachment" data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="attachment" data-ms-for="#: id #" style="padding: 0.7em; display: flex !important;justify-content: center !important;align-items: center !important;">
							<i class="fa-solid fa-paperclip  ms_chat_toolbar_attachment_icon" style="width: 1em;height: 1em;font-size: 1.5em;"></i>
						</div>
					</div>
					<div class="ms_chat_send_button_container km-widget km-button" id="#: id #_camera" data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="camera" data-ms-for="#: id #"  style="padding: 0.7em;display: flex !important;justify-content: center !important;align-items: center !important;">
						<i class="fa-solid fa-camera  ms_chat_toolbar_attachment_icon" style="width: 1em;height: 1em;font-size: 1.5em;"></i>
					</div>
					<div id="#: id #_send_button_container" class="ms_chat_send_button_container" style="flex: 10;justify-content: center;align-items: center;">
						<button id="#: id #_message_box_send" class="k-button k-flat k-button-icon k-button-send ms_chat_send_button" title="Send message" aria-label="Send message" style="flex: 10 1 0%;display:none;"><i class="fa-solid fa-paper-plane-top" style="font-size: 21px;"></i></button>
					</div>
				</div>
			</div>
			<div id="#: id #_action_panel_container" style="flex: 5;width: 100%;display: none;align-items: center;border: 1px solid;border-color: rgba(0,0,0,.12);height: 10%;justify-content: center;">
				<div id="#: id #_actions_container" style="display: flex;overflow-x: scroll;">
				</div>
			</div>
		</div>
	</div>
	<div id="#: id #_preview_popup_content"></div>
</script>
<script id="msChatHeaderDefaultTemplate" type="text/x-kendo-tmpl">
	<div style="display: flex;flex-direction: row;">
		<span>
			<p style="font-size: 1em;padding-left: 1em;color: \#8C8C8C;">Description : </p>
		</span>
		<span>
			<p style="font-size: 1em;padding-left: 1em;font-weight: 400;color: \#00000099;">#: problem_description # </p>
		</span>
	</div>
</script>
<script id="msChatTextDefaultTemplate" type="text/x-kendo-template">
# if (sender) { #
	<div style="display: flex; justify-content: flex-end; margin: 1em 0;align-items: center;">
	<div data-ms-chat-bubble-container="true" style="max-width: 75%; border: 1px solid;border-radius: 25px 25px 0px 25px;padding: .7em;line-height: 1.2; order:1;" class="ms_chat_bubble_#:theme#">
# } else { #
	<div style="display: flex;margin: 1em 0;align-items: center;">
	<div data-ms-chat-bubble-container="true" style="max-width: 75% ; border: 1px solid;border-radius: 0px 25px 25px 25px;padding: .7em;line-height: 1.2; order:2;"  class="ms_chat_bubble_#:theme#">
# } #
		<div style="display: flex; justify-content: space-between; margin-bottom: .5em; border-bottom: 1px solid;align-items: flex-end;order:1;" class="ms_chat_bubble_header_info_#:theme#">			
		# if (sender) { #			
			<strong style="margin-right: 1em;"  class="ms_chat_bubble_header_#:theme#">You</strong>
		# } else { #
			<strong style="margin-right: 1em;" class="ms_chat_bubble_header_#:theme#">#: (from.sysMsg
				==="true")?(mService.app.name):(from.name)#</strong>
		# } #
			<em style="font-size: 10px;" class="ms_chat_bubble_header_time_#:theme#">#: mService.util.date.getDateTimeString(mService.util.date.getParseDate(info.date,info.hour,info.min,info.sec),'dd MMM HH:mm') #</em>
		</div>
		<span data-ms-msg-info-id="#:info.id#"></span>
		# if (iscontentTranslated && translation!== undefined) { #
			<p style="padding-left: .7em; line-height: 1.8;">
				#: translation #
			</p>
				# if (translation !== content.replace("&nbsp;","").trim()) { #
				<details style="padding-left: .7em;padding-top: .5em;cursor: pointer;">
					<summary style="font-style: italic;" class="ms_chat_bubble_translation_header_#:theme#">Original</summary>
					<p style="padding-left: 1.3em;padding-top: 0.7em; font-style: italic; line-height: 1.3" class="ms_chat_bubble_translation_content_#:theme#">#: content.replace("&nbsp;","").trim() #</p>
				</details>
			# } #
		# } else { #
			<p style="padding-left: .7em; line-height: 1.8">
				#: msgContent #
			</p>
		# } #
	</div>
	# if (sender) { #
		<div style="display: flex;align-self: flex-end; order:2;">
			<div style="display: flex;  justify-content: center;  align-items: center;  max-width: 4em;  max-height: 4em;margin-right: .4em; margin-left: .4em;border-radius: 50%;overflow: hidden;padding: 2em;" class="ms_chat_profile_#:theme#">
	# } else { #
		<div style="display: flex;margin: 1em 0;order:1;">
			<div style="display: flex;  justify-content: center;  align-items: center;  max-width: 4em;max-height: 4em;margin-right: .4em;border-radius: 50%;overflow: hidden;padding: 2em;" class="ms_chat_profile_#:theme#">
	# } #
			# if (from.sysMsg === "true") { #
				<img class="k-avatar" src="#:localPathRoot#/ux/image/app_header_icon.png" alt="#: mService.app.name #" data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="previewPopup"  data-ms-for="#: id #" data-ms-chat-scrid="#: scrID#" data-ms-listview-param='{"attachType":"I", "attachSrc":"#:localPathRoot#/ux/image/app_header_icon.png"}' data-ms-for="#: id #" style="width: 4em;height: 4em;object-fit: contain;" />
			# } else { #
				<span style="color: \#fff;font-size: 20px;padding: 2em;"> #:from.initial# </span>
			# } #
	</div>
</div>
</script>
<script id="msChatSuggestionDefaultTemplate" type="text/x-kendo-template">
# if (sender) { #
<div style="display: flex; justify-content: flex-end; margin: 1em 0 1em 1em;">
	<div data-ms-chat-bubble-container="true" style="max-width: 75%; border: 1px solid;border-radius: 25px 25px 0px 25px;padding: .7em; order:1;" class="ms_chat_bubble_#:theme#">
# } else { #
<div style="display: flex;margin: 1em 0;;">
	<div data-ms-chat-bubble-container="true" style="max-width: 75% ; border: 1px solid;border-radius: 0px 25px 25px 25px;padding: .7em;order:2;"  class="ms_chat_bubble_#:theme#">
# } #
	<div style="display: flex; justify-content: space-between; margin-bottom: .5em; border-bottom: 1px solid;align-items: flex-end;order:1;"  class="ms_chat_bubble_header_info_#:theme#">			
		# if (sender) { #			
			<strong style="margin-right: 1em;" class="ms_chat_bubble_header_#:theme#" class="ms_chat_bubble_header_#:theme#">You</strong>
		# } else { #
			<strong style="margin-right: 1em;" class="ms_chat_bubble_header_#:theme#">#: (from.sysMsg
				==="true")?(mService.app.name):(from.name)#</strong>
		# } #
		<em style="font-size: 10px;" class="ms_chat_bubble_header_time_#:theme#">#: mService.util.date.getDateTimeString(mService.util.date.getParseDate(info.date,info.hour,info.min,info.sec),'dd MMM HH:mm') #</em>
	</div>
	<span data-ms-msg-info-id="#:info.id#"></span>
	# if (iscontentTranslated && translation!== undefined) { #
		<p style="padding-left: .7em; line-height: 1.8">
			#: translation #
		</p>
			# if (translation !== content.replace("&nbsp;","").trim()) { #
			<details style="padding-left: .7em;padding-top: .5em;cursor: pointer;">
				<summary style="font-style: italic;" class="ms_chat_bubble_translation_header_#:theme#">Original</summary>
				<p style="padding-left: 1.3em;padding-top: 0.7em; font-style: italic; line-height: 1.3" class="ms_chat_bubble_translation_content_#:theme#">#: content.replace("&nbsp;","").trim() #</p>
			</details>
		# } #
	# } else { #
		<p style="padding-left: .7em; line-height: 1.8">
			#if(msgContent === "1"){#
				<i style="color:\#f00;font-size:3em;" class="fa-solid fa-face-weary"></i>
			#}else if (msgContent === "2"){#
				<i style="color:\#ff7c00;font-size:3em;" class="fa-solid fa-frown"></i>
			#}else if (msgContent === "3"){#
				<i style="color:\#f5b900;font-size:3em;" class="fa-solid fa-smile"></i>
			#}else if (msgContent === "4"){#
				<i style="color:\#18C55D ;font-size:3em;" class="fa-solid fa-laugh"></i>
			#}else if (msgContent === "5"){#
				<i style="color:\#129B42;font-size:3em;" class="fa-solid fa-grin-hearts"></i>
			#}else{#
				#: msgContent # 
			#}#
		</p>
	# } #
	<div class="k-quick-replies" style="margin-left: 0.5em;margin-top: 5px;">
		# for (var i = 0; i < suggestions.length; i++){#
			#if(suggestions[i].value === "@1" || suggestions[i].value === "@2" || suggestions[i].value === "@3" || suggestions[i].value === "@4" || suggestions[i].value === "@5"){#
				<span data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="suggestion" data-ms-for="#: id #" class=" ms_chat_bubble_suggestion_#:theme#" data-ms-value="#:suggestions[i].value#" data-ms-listview-param='{"title":"#:suggestions[i].title #", "value":"#: suggestions[i].value #"}' data-ms-custom="#:JSON.stringify(suggestions[i].custom)#" style="padding: 7px;cursor: pointer;-webkit-user-select: none;-ms-user-select: none;user-select: none;display: inline-block;-ms-flex: 0 0 auto;flex: 0 0 auto;transition-property: color, background-color, border-color;transition-duration: .2s;transition-timing-function: ease-in-out;cursor: pointer;outline: none;gap: 1em;">
					<div style="display: flex;justify-content:center;align-items:center;">
						#if(suggestions[i].suggestionGroup !== undefined && mService.icons[suggestions[i].suggestionGroup] !== undefined && mService.icons[suggestions[i].suggestionGroup][(suggestions[i].value).replace("@","")] !== undefined){#
							<span style="display: flex;">
								#if(suggestions[i].value === "@1"){#
									<i class="#:mService.icons[suggestions[i].suggestionGroup][(suggestions[i].value).replace("@","")]#" style="font-size: 2em;color:\#f00;"></i>
								#}else if (suggestions[i].value === "@2"){#
									<i class="#:mService.icons[suggestions[i].suggestionGroup][(suggestions[i].value).replace("@","")]#" style="font-size: 2em;color:\#ff7c00;"></i>
								#}else if (suggestions[i].value === "@3"){#
									<i class="#:mService.icons[suggestions[i].suggestionGroup][(suggestions[i].value).replace("@","")]#" style="font-size: 2em;color:\#f5b900;"></i>
								#}else if (suggestions[i].value === "@4"){#
									<i class="#:mService.icons[suggestions[i].suggestionGroup][(suggestions[i].value).replace("@","")]#" style="font-size: 2em;color:\#18C55D;"></i>
								#}else if (suggestions[i].value === "@5"){#
									<i class="#:mService.icons[suggestions[i].suggestionGroup][(suggestions[i].value).replace("@","")]#" style="font-size: 2em;color:\#129B42;"></i>
								#}else{#
									<i class="#:mService.icons[suggestions[i].suggestionGroup][(suggestions[i].value).replace("@","")]#" style="padding-right: 0.5em;font-size: 1.3em;"></i>
									<span style="display: flex;align-items: center;">#: suggestions[i].title#</span>
								#}#
								
							</span>
						#} else {#
							<span style="display: flex;align-items: center;">#: suggestions[i].title#</span>
						#}#
						
					</div>
				</span>
			#}else{#
				<span data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="suggestion" data-ms-for="#: id #" class=" ms_chat_bubble_suggestion_#:theme#" data-ms-value="#:suggestions[i].value#" data-ms-listview-param='{"title":"#:suggestions[i].title #", "value":"#: suggestions[i].value #"}' data-ms-custom="#:JSON.stringify(suggestions[i].custom)#" style="margin: 0.5em;border-radius: 100px; margin-right: 8px;margin-bottom: 4px;padding: 8px 12px;border-width: 1px;border-style: solid;line-height: 18px;cursor: pointer;-webkit-user-select: none;-ms-user-select: none;user-select: none;display: inline-block;-ms-flex: 0 0 auto;flex: 0 0 auto;transition-property: color, background-color, border-color;transition-duration: .2s;transition-timing-function: ease-in-out;cursor: pointer;outline: none;gap: 1em;border-radius: 30px;padding: 1em;">
					<div style="display: flex;justify-content:center;align-items:center;">
						#if(suggestions[i].suggestionGroup !== undefined && mService.icons[suggestions[i].suggestionGroup] !== undefined && mService.icons[suggestions[i].suggestionGroup][(suggestions[i].value).replace("@","")] !== undefined){#
							<span style="display: flex;">
								<i class="#:mService.icons[suggestions[i].suggestionGroup][(suggestions[i].value).replace("@","")]#" style="padding-right: 0.5em;font-size: 1.3em;"></i>
								<span style="display: flex;align-items: center;">#: suggestions[i].title#</span>
							</span>
						#} else {#
							<span style="display: flex;align-items: center;">#: suggestions[i].title#</span>
						#}#
						
					</div>
				</span>
			# } #
			
		# } #
	</div>
</div>
# if (sender) { #
	<div style="display: flex;align-self: flex-end; order:2;">
		<div style="display: flex;  justify-content: center;  align-items: center;  max-width: 4em;  max-height: 4em;margin-right: .4em; margin-left: .4em;border-radius: 50%;overflow: hidden;padding: 2em;" class="ms_chat_profile_#:theme#">
# } else { #
	<div style="display: flex;margin: 1em 0;order:1;">
		<div style="display: flex;  justify-content: center;  align-items: center;  max-width: 4em;max-height: 4em;margin-right: .4em;border-radius: 50%;overflow: hidden;padding: 2em;" class="ms_chat_profile_#:theme#">
# } #
		# if (from.sysMsg === "true") { #
			<img class="k-avatar" src="#:localPathRoot#/ux/image/app_header_icon.png" alt="#: mService.app.name #" data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="previewPopup" data-ms-for="#: id #"data-ms-chat-scrid="#: scrID#" data-ms-listview-param='{"attachType":"I", "attachSrc":"#:localPathRoot#/ux/image/app_header_icon.png"}' style="width: 4em;height: 4em;object-fit: contain;" />
		# } else { #
			<span style="color: \#fff;font-size: 20px;padding: 2em;"> #:from.initial# </span>
		# } #
</div>
</div>
</script>
<script id="msChatActionDefaultTemplate" type="text/x-kendo-template">
	# 	
		let localPathRoot = (mService.app.channel === "web")?("www"):("..");
		let sender = ((from.id === mService.app.getUserId()) && (from.sysMsg !== "true"))?(true):(false);
		let iscontentTranslated = (translations !== undefined && data.translations !== "" && data.translations !== null)?(true):(false);
		let translation = (translations !== undefined && data.translations !== "" && data.translations !== null)?(translations[mService.app.getLocaleId().substring(0, 2)]):("");
		let msgContent = ((content.replace("&nbsp;","").trim().indexOf("\n") !== -1 || content.replace("&nbsp;","").trim().indexOf("<br>") !== -1))?(content.replace("&nbsp;","").trim().replace(/<br>/g, "\n")):(content.replace("&nbsp;","").trim());
	#
	# if (sender) { #
		<div style="display: flex; justify-content: flex-end; margin: 1em 0 1em 1em;">
			<div data-ms-chat-bubble-container="true" style="max-width: 75%; border: 1px solid;border-radius: 25px 25px 0px 25px;padding: .7em; order:1;" class="ms_chat_bubble_#:theme#">
	# } else { #
		<div style="display: flex;margin: 1em 0;;">
			<div data-ms-chat-bubble-container="true" style="max-width: 75% ; border: 1px solid;border-radius: 0px 25px 25px 25px;padding: .7em;order:2;"  class="ms_chat_bubble_#:theme#">
	# } #
				<div class="ms_chat_bubble_header_#:theme#" style="display: flex; justify-content: space-between; margin-bottom: .5em; border-bottom: 1px solidalign-items: flex-end;order:1;">			
					# if (sender) { #			
						<strong style="margin-right: 1em;">You</strong>
					# } else { #
						<strong style="margin-right: 1em;">#: (from.sysMsg
							==="true")?(mService.app.name):(from.name)#</strong>
					# } #
					<em style="font-size: 10px;" class="ms_chat_bubble_header_time_#:theme#">#: mService.util.date.getDateTimeString(mService.util.date.getParseDate(info.date,info.hour,info.min,info.sec),'hh:mm') #</em>
				</div>
				<span data-ms-msg-info-id="#:info.id#"></span>
				# if (iscontentTranslated && translation!== undefined) { #
					<p style="padding-left: .7em; line-height: 1.8">
						#: translation #
					</p>
					 # if (translation !== content.replace("&nbsp;","").trim()) { #
						<details style="padding-left: .7em;padding-top: .5em;cursor: pointer;">
							<summary style="font-style: italic;" class="ms_chat_bubble_translation_header_#:theme#">Original</summary>
							<p style="padding-left: 1.3em;padding-top: 0.7em; font-style: italic; line-height: 1.3" class="ms_chat_bubble_translation_content_#:theme#">#: content.replace("&nbsp;","").trim() #</p>
						</details>
					# } #
			  # } else { #
					<p style="padding-left: .7em; line-height: 1.8">
						#: msgContent #
					</p>
					<div>
						<span style="font-weight: bold;">
							- #: actionPath.split('/').pop().replace("@","") #
						</span>
					</div>
			  # } #
			  <div class="k-quick-replies" style="margin-left: 2em;margin-top: 5px;">
					# for (var i = 0; i < suggestions.length; i++){#
						<span data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="suggestion" data-ms-for="#: id #" class=" ms_chat_bubble_suggestion_#:theme# km-widget km-button" data-ms-value="#:suggestions[i].value#" data-ms-listview-param='{"title":"#:suggestions[i].title #", "value":"#: suggestions[i].value #"}' data-ms-custom="#:JSON.stringify(suggestions[i].custom)#" style="margin: 0.5em;border-radius: 100px; margin-right: 8px;margin-bottom: 4px;padding: 8px 12px;border-width: 1px;border-style: solid;line-height: 18px;cursor: pointer;-webkit-user-select: none;-ms-user-select: none;user-select: none;display: inline-block;-ms-flex: 0 0 auto;flex: 0 0 auto;transition-property: color, background-color, border-color;transition-duration: .2s;transition-timing-function: ease-in-out;cursor: pointer;outline: none;gap: 1em;border-radius: 30px;padding: 1em;">
						<div style="display: flex;">
							#if(suggestions[i].suggestionGroup !== undefined && mService.icons[suggestions[i].suggestionGroup] !== undefined && mService.icons[suggestions[i].suggestionGroup][(suggestions[i].value).replace("@","")] !== undefined){#
								<span>
									<i class="#:mService.icons[suggestions[i].suggestionGroup][(suggestions[i].value).replace("@","")]#" style="padding-right: 0.5em;font-size: 1.3em;"></i>
								</span>
							#}#
							<span style="display: flex;align-items: center;">#: suggestions[i].title#</span>
						</div>
					</span>
					# } #
			  </div>
			</div>
			# if (sender) { #
				<div style="display: flex;align-self: flex-end; order:2;">
					<div style="display: flex;  justify-content: center;  align-items: center;  max-width: 4em;  max-height: 4em;margin-right: .4em; margin-left: .4em;border-radius: 50%;overflow: hidden;padding: 2em;" class="ms_chat_profile_#:theme#">
			# } else { #
				<div style="display: flex;margin: 1em 0;order:1;">
					<div style="display: flex;  justify-content: center;  align-items: center;  max-width: 4em;max-height: 4em;margin-right: .4em;border-radius: 50%;overflow: hidden;padding: 2em;" class="ms_chat_profile_#:theme#">
			# } #
					# if (from.sysMsg === "true") { #
						<img class="k-avatar km-widget km-button" src="#:localPathRoot#/ux/image/app_header_icon.png" alt="#: mService.app.name #" data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="previewPopup" data-ms-for="#: id #"data-ms-chat-scrid="#: scrID#" data-ms-listview-param='{"attachType":"I", "attachSrc":"#:localPathRoot#/ux/image/app_header_icon.png"}' style="width: 4em;height: 4em;object-fit: contain;" />
					# } else { #
						<span style="font-size: 20px;padding: 2em;"> #:from.initial# </span>
					# } #
			</div>
		</div>
</script>
<script id="msChatAttachmentDefaultTemplate" type="text/x-kendo-template">
# if (sender) { #
	<div style="display: flex; justify-content: flex-end;   margin: 1em 0;align-items: center;">
		<div data-ms-chat-bubble-container="true" style="width: 75%;border: 1px solid;border-radius: 25px 25px 0px 25px;padding: .7em;line-height: 1.2; order:1;margin-right: 0.3em;"  class="ms_chat_bubble_#:theme#">
# } else { #
	<div style="display: flex;margin: 1em 0;align-items: center;">
		<div data-ms-chat-bubble-container="true" style="width: 75%;  border: 1px solid;border-radius: 0px 25px 25px 25px;padding: .7em;line-height: 1.2; order:2;"  class="ms_chat_bubble_#:theme#">
# } #
	<div style="display: flex; justify-content: space-between; margin-bottom: .5em; border-bottom: 1px solid;align-items: flex-end;order:1;"  class="ms_chat_bubble_header_info_#:theme#">			
		# if (sender) { #
			<strong style="margin-right: 1em;" class="ms_chat_bubble_header_#:theme#">You</strong>
		# } else { #
			<strong style="margin-right: 1em;" class="ms_chat_bubble_header_#:theme#">#: (from.sysMsg
				==="true")?(mService.app.name):(from.name)#</strong>
		# } #
		<em style="font-size: 10px;" class="ms_chat_bubble_header_time_#:theme#">#: mService.util.date.getDateTimeString(mService.util.date.getParseDate(info.date,info.hour,info.min,info.sec),'dd MMM HH:mm') #</em>
	</div>
	<span data-ms-msg-info-id="#:info.id#"></span>
	<div>
		<div style="display: flex;justify-content: space-between;align-items: flex-end;">  
			<div>
				# if (iscontentTranslated && translation!== undefined) { #
					<p style="padding-left: .7em; line-height: 1.8">
						#: translation #
					</p>
						# if (translation !== content.replace("&nbsp;","").trim()) { #
						<details style="padding-left: .7em;padding-top: .5em;cursor: pointer;">
							<summary style="font-style: italic;"  class="ms_chat_bubble_translation_header_#:theme#">Original</summary>
							<p style="padding-left: 1.3em;padding-top: 0.7em; font-style: italic; line-height: 1.3" class="ms_chat_bubble_translation_content_#:theme#">#: content.replace("&nbsp;","").trim() #</p>
						</details>
					# } #
				# } else { #
					<p style="padding-left: .7em; line-height: 1.8">#: msgContent #</p>
				# } #
		</div>
		# if (attachments.length>1) { #
			<div id="#:info.id#_count" class="ms_chat_attachment_count_#:theme#" style="justify-content: center;border-radius: 10px;width: 2em;height: 2em;font-size: 14px;display: flex;justify-content: center;padding: 1.2em;align-items: center;">1/#:attachments.length#</div>   
		# } #
	</div>

	<div style="display:flex;align-items: center;justify-content: center;">
		# if (attachments.length>1) { #
					<div id="#:info.id#_leftNav" data-ms-chat-theme="#:theme#" data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="leftNav" data-ms-for="#: id #" data-ms-info-id="#: info.id #" data-ms-attachment-totalCount="#: attachments.length #" style="opacity: 0.5;flex: 10;font-size: 1.5em;border-radius: 50%;display: flex;align-items: center; solid;height: 1.5em;width: 1.5em;justify-content: center;cursor:pointer;">
					<span style="display: flex; justify-content: center;cursor: pointer;"><i class="fas fa-angle-left ms_chat_attachment_pager_icon_#:theme#"></i></span>
				</div>
			# } #
			<div id="#: id #_attachment_container" style="flex: 90;display: flex; max-width:75%;justify-content: center;overflow: hidden;" >
				# for (var i = 0; i < attachments.length; i++){#
					# if (i===0) { #
						<div id="#:info.id#_#:i+1#" ms-data-chat-attachtment-count="#:i+1#"  style="width:100%;display: flex;justify-content: center;margin-top: .5em;" data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="previewPopup" data-ms-for="#: id #" data-ms-chat-scrid="#: scrID#" data-ms-listview-param='{"attachType":"#: attachments[i].type #", "attachSrc":"#: mService.app.clientURL + "/" + "content_store" + "/" + mService.app.getClientId() + "/" + mService.app.getCountryCode() + "/" + attachments[i].src #"}'">
					# } else { #
						<div id="#:info.id#_#:i+1#" ms-data-chat-attachtment-count="#:i+1#" style="width:100%;justify-content: center;margin-top: .5em;display:none;" data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="previewPopup" data-ms-for="#: id #" data-ms-chat-scrid="#: scrID#" data-ms-listview-param='{"attachType":"#: attachments[i].type #", "attachSrc":"#: mService.app.clientURL + "/" + "content_store" + "/" + mService.app.getClientId() + "/" + mService.app.getCountryCode() + "/" + attachments[i].src #"}'">
					# } #
					# if (attachments[i].type === "I") { #
						<img src="#: mService.app.clientURL + "/" + "content_store" + "/" + mService.app.getClientId() + "/" +mService.app.getCountryCode() + "/" + attachments[i].src #"  style=" max-width:75%;height: 120px;display: block;margin-left: auto;margin-right: auto;"/>
					# } else { #
						# if (attachments[i].type == "A" || attachments[i].type == "V") { #
							
								# if (attachments[i].type == "A") { #
								<audio src="#: mService.app.clientURL + "/" + "content_store" + "/" + mService.app.getClientId() + "/" + mService.app.getCountryCode() + "/" + attachments[i].src #" preload="metadata" controls="" controlslist="nodownload noremoteplayback noplaybackrate" onplay="mService.widgets.init.util.pausePlayer(this);" data-ms-status="not_playing"></audio>
								# } else if (attachments[i].type == "V") { #
									<video  src="#: mService.app.clientURL + "/"+ "content_store" + "/" + mService.app.getClientId() + "/" + mService.app.getCountryCode() + "/" +attachments[i].src #"  preload="none" webboost_found_paused="true" webboost_processed="true" webboost_videoid="0" webboost_userplayed="true" disablepictureinpicture="" controlslist="nodownload noremoteplayback noplaybackrate" poster="#:localPathRoot#/ux/image/chat_poster.png" style="max-width: 75%; box-shadow: rgb(0 0 0 / 24%) 0px 3px 8px;" onplay="mService.widgets.init.util.pausePlayer(this);" data-ms-status="not_playing"></video>
								# } #
							
						# } else { #
							<div style=" width: 100%; height: 6em; display: grid; place-items: center">
								<span class="ms_chat_attachment_#:theme#"  style="height: 4em;width: 4em;display: grid;place-items: center;border-radius: 50%;margin: 0.5em;">
									#if (attachments[i].type == "P") { #
										<i class="fas #:mService.icons.knowledgebase.pdf#" style="margin: 0; font-size: 2em !important;"></i>
									#} else if (attachments[i].type == "D") {# 
										<i class="fas #:mService.icons.knowledgebase.alt#" style="margin: 0; font-size: 2em !important;"></i>
									#} else if (attachments[i].type == "E" || attachments[i].type == "EX") { #
										<i class="fas #:mService.icons.knowledgebase.excel#" style="margin: 0; font-size: 2em !important;"></i>
									# } else { #
										<i class="fas #:mService.icons.knowledgebase.alt#" style="margin: 0; font-size: 2em !important;"></i>
									#}#
								</span>
							</div>
						# } #
					# } #
				</div>
					# } #
				</div>
				# if (attachments.length>1) { #
					<div id="#:info.id#_rightNav" data-ms-chat-theme="#:theme#" data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="rightNav" data-ms-for="#: id #" data-ms-info-id="#: info.id #" data-ms-attachment-totalCount="#: attachments.length #" style="flex: 10;font-size: 1.5em;border-radius: 50%;display: flex;align-items: center; solid;height: 1.5em;width: 1.5em;justify-content: center;cursor:pointer;">
						<span style="display: flex; justify-content: center;cursor: pointer;">
							<i class="fas fa-angle-right ms_chat_attachment_pager_icon_#:theme# "></i></span>
					</div>
				# } #
			</div>
			<!-- # if (attachments.length>0) { #
				<div style="display: flex;float: right;padding: 0.3em 0;" data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="downloadAttachment" data-ms-for="#: id #" data-ms-info-id="#: info.id #" data-ms-listview-param='{"attachType":"#: attachments[0].type #", "attachName":"#: attachments[0].name #","attachType":"#: attachments[0].type #", "attachSrc":"#: mService.app.clientURL + "/" + "content_store" + "/" + mService.app.getClientId() + "/" + mService.app.getCountryCode() + "/" + attachments[0].src #"}'"><i class="fa-solid fa-download ms_chat_bubble_download_button_#:theme#" style="font-size: 1.5em;"></i></div>
			# } # -->

			# if (attachments.length>1) { #
				<!-- <div id="#:info.id#_pager" style="width: 100%;height: 8%;bottom:0;display:flex;align-items:center;justify-content:center; class="scroller">
					<div style="display: flex;justify-content: center;">
						<div style="width: 20%;overflow: scroll;">
							<ol class="k-pages km-pages" id='#: info.id #_pager_list' style="overflow: scroll;white-space: nowrap;">
								# for (var i = 0; i < attachments.length; i++){#
									# if (i === 0) { #
										<li id="#:info.id#_pager_#:i+1#"  class="ms_pager_active"></li>
									# } else { #
										<li id="#:info.id#_pager_#:i+1#" class="ms_pager_inactive"></li>
									# } #
								#}#
							</ol>
						</div>
					</div>
				</div> -->

				<div id="#:info.id#_pager" style='width: 100%;height: 8%;bottom:0;display:flex;align-items:center;justify-content:center;' class='scroller'>
					<div style='display: flex;justify-content: center;align-items: center;padding-top: 1em;'>
						<div style='width: 30vw;display: flex;justify-content: center;'>
							<ol class='k-pages km-pages' id='#: info.id #_pager_list' style='list-style: none;white-space: nowrap;display: flex;text-align: center;margin: 0;padding: 0.6em 0 0;height: 1.5em;align-items: center;'>
								# for (var i = 0; i < attachments.length; i++){#
									# if (i === 0) { #
										<li id="#:info.id#_pager_#:i+1#"  class="ms_chat_attachment_pager_active_default ms_chat_attachment_pager_active_#:theme#"></li>
									# } else { #
										<li id="#:info.id#_pager_#:i+1#" class="ms_chat_attachment_pager_default  ms_chat_attachment_pager_#:theme#"></li>
									# } #
								#}#
							</ol>
						</div>
					</div>
				</div>
			# } #
		</div>
	</div>
# if (sender) { #
		<div style="display: flex;align-self: flex-end; order:2;">
			<div style="display: flex;justify-content: center;align-items: center;max-width: 4em;max-height: 4em;margin-right: 0.4em;border-radius: 50%;overflow: hidden;padding: 2em;" class="ms_chat_profile_#:theme#">
# } else { #
	<div style="display: flex;margin: 1em 0;order:1;">
		<div style="display: flex;  justify-content: center;  align-items: center;  max-width: 4em;max-height: 4em;margin-right: .4em;border-radius: 50%;overflow: hidden;padding: 2em;" class="ms_chat_profile_#:theme#">
# } #
		# if (from.sysMsg === "true") { #
			<img class="k-avatar" src="#:localPathRoot#/ux/image/app_header_icon.png" alt="#: mService.app.name #" data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="previewPopup" data-ms-for="#: id #" data-ms-chat-scrid="#: scrID#" data-ms-listview-param='{"attachType":"I", "attachSrc":"#:localPathRoot#/ux/image/app_header_icon.png"}' style="width: 4em;height: 4em;object-fit: contain;" />
		# } else { #
			<span style="color: \#fff;font-size: 20px;padding: 2em;"> #:from.initial# </span>
		# } #
</div>
</div>
</script>
<script id="msChatTimelineDefaultTemplate" type="text/x-kendo-template">
<div style="width: 100%;display:flex;flex-direction:row;">
	<span style="flex: 35;display: flex;align-items: center;">
		<div style="border-top: 1px solid \#bbb;width: 100%;border-radius: 50px;"></div>
	</span>
	<div style="flex: 30;display: flex;justify-content: center;font-size: 0.9em;font-style: italic;color:\#2b2b2b91;border-radius: 10px;font-weight: 400;padding: 0.2em;background: \#f3f3f3;box-shadow: 4px 0px 6px \#cbcbcb, 2px 19px 14px \#ffffff;">#: mService.util.date.getRelativeDate(info.date, "dd MMM yyyy") #</div>
	<span style="flex: 35;display: flex;align-items: center;">
		<div style="border-top: 1px dashed \#bbb;width: 100%;border-radius: 50px;"></div>
	</span>
</div>
</script>
<script id="mschatPreviewPopupTemplate" type="text/x-kendo-tmpl">
	<div id="#: id #_preview_popup" data-role="content" style="display: none;">
		<center>
			<div id="#: id #_attachment_preview" style="height: 90vh; width: 100vw;vertical-align: middle;display: table-cell;"></div>
		</center>
	</div>
</script>
<script id="msChatToolbarAttachmentTemplate" type="text/x-kendo-tmpl">
	<div id="#: id #_group" class="msChatAttachment_container">
			<input id="#: id #" name="#: id #"  type="file" class=""/>
		</div>
	</div>
</script>
<script id="msChatActionPanelDefaultTemplate" type="text/x-kendo-tmpl">
	# for (var i = 0; i < actions.length; i++){#
		<span class="km-widget km-button" data-ms-widget-type="msWidget" data-ms-widget-group="msChat" data-ms-widget-role="actions" data-ms-for="#: id #"  data-ms-value="#: actions[i].value#" data-ms-listview-param='{"title":"#: actions[i].title #", "value":"#: actions[i].value #"}'  data-ms-custom="#:JSON.stringify(actions[i].custom)#" style="height: 2em;width: 2em;display: flex;justify-content: center;align-items: center;border-radius: 50%;padding: 0.8em;margin: 0.4em;" title="#:actions[i].title #" class="ms_chat_actions">
			<i class="#: mService.icons[actions[i].actionGroup][(actions[i].value).replace("@","")]#" style="font-size: 1.7em;"></i>
		</span>
	# } #
</script>